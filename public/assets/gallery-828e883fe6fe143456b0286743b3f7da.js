!function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.options=t,this.browser_history=e(this.browser_history,this),this.keyboard_interactions=e(this.keyboard_interactions,this),this.push_state=e(this.push_state,this),this.change_content=e(this.change_content,this),this.fetch_content=e(this.fetch_content,this),this.select_new_media=e(this.select_new_media,this),this.select_elements(),this.make_clickable(),this.keyboard_interactions(),this.browser_history()}return t.prototype.select_elements=function(){return this.main_media=$(this.options.main_media),this.gallery_links=$(this.options.gallery_links),this.media_wrapper=$(this.options.media_wrapper)},t.prototype.make_clickable=function(){return this.gallery_links.on("click",this.select_new_media)},t.prototype.select_new_media=function(t){var e;return e=$(t.currentTarget).attr("href"),this.fetch_content(this.change_content,e),!1},t.prototype.fetch_content=function(t,e){var n=this;return $.get(e,function(t){return n.change_content(t),n.push_state({html:t,page_title:"Eventos CTE",link:e})})},t.prototype.change_content=function(t){var e=this;return this.main_media.animate({opacity:0},100,"swing",function(){return e.media_wrapper.html(t),e.main_media.is("img")&&e.main_media.css({opacity:0}).load(function(){return $(this).animate({opacity:1},100)}),e.select_elements(),e.make_clickable()})},t.prototype.push_state=function(t){return window.history.pushState(t,"",t.link)},t.prototype.keyboard_interactions=function(){return $("html").keyup(function(t){var e;return e=function(){switch(t.which){case 37:return $(".media-gallery .active").prev();case 39:return $(".media-gallery .active").next();default:return null}}(),null!==e&&e.click(),!1})},t.prototype.browser_history=function(){var t=this;return window.onpopstate=function(e){return null!==e.state?t.change_content(e.state.html):void 0}},t}(),this.Gallery=t}.call(this);