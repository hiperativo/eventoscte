!function(t){t.ajaxPrefilter(function(t){return t.iframe?"iframe":void 0}),t.ajaxTransport("iframe",function(e){function a(){t(u).each(function(){this.remove()}),t(l).each(function(){this.disabled=!1}),n.attr("action",r||"").attr("target",s||"").attr("enctype",o||""),i.attr("src","javascript:false;").remove()}var n=null,i=null,r=null,s=null,o=null,u=[],l=[],c=t(e.files).filter(":file:enabled");return e.dataTypes.shift(),c.length?(c.each(function(){null!==n&&this.form!==n&&jQuery.error("All file fields must belong to the same form"),n=this.form}),n=t(n),r=n.attr("action"),s=n.attr("target"),o=n.attr("enctype"),n.find(":input:not(:submit)").each(function(){!this.disabled&&("file"!=this.type||c.index(this)<0)&&(this.disabled=!0,l.push(this))}),"string"==typeof e.data&&e.data.length>0&&jQuery.error("data must not be serialized"),t.each(e.data||{},function(e,a){t.isPlainObject(a)&&(e=a.name,a=a.value),u.push(t("<input type='hidden'>").attr("name",e).attr("value",a).appendTo(n))}),u.push(t("<input type='hidden' name='X-Requested-With'>").attr("value","IFrame").appendTo(n)),accepts=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],u.push(t("<input type='hidden' name='X-Http-Accept'>").attr("value",accepts).appendTo(n)),{send:function(r,s){i=t("<iframe src='javascript:false;' name='iframe-"+t.now()+"' style='display:none'></iframe>"),i.bind("load",function(){i.unbind("load").bind("load",function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,e=t.documentElement?t.documentElement:t.body,n=e.getElementsByTagName("textarea")[0],i=n?n.getAttribute("data-type"):null,r=n?parseInt(n.getAttribute("response-code")):200,o="OK",u={text:i?n.value:e?e.innerHTML:null},l="Content-Type: "+(i||"text/html");s(r,o,u,l),setTimeout(a,50)}),n.attr("action",e.url).attr("target",i.attr("name")).attr("enctype","multipart/form-data").get(0).submit()}),i.insertAfter(n)},abort:function(){null!==i&&(i.unbind("load").attr("src","javascript:false;"),a())}}):void 0})}(jQuery);